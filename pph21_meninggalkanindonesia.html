<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Kalkulator PPh 21 - Meninggalkan Indonesia</title>
  <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;600&display=swap" rel="stylesheet" />
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous" />
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css" />
  <style>
    body {
      font-family: 'Plus Jakarta Sans', sans-serif;
      background-color: #f0f4f8;
    }
    .container {
      max-width: 900px;
      background-color: white;
      border-radius: 15px;
      box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
      padding: 30px;
      margin-top: 20px;
      margin-bottom: 20px;
    }
    h1 {
      color: #1e40af;
      font-weight: 600;
    }
    h2 {
      color: #1f2937;
      font-weight: 600;
    }
    .btn-primary {
      background-color: #1e40af;
      border-color: #1e40af;
      transition: background-color 0.3s;
    }
    .btn-primary:hover {
      background-color: #1e3a8a;
      border-color: #1e3a8a;
    }
    .btn-secondary {
      background-color: #6b7280;
      border-color: #6b7280;
    }
    .btn-secondary:hover {
      background-color: #4b5563;
      border-color: #4b5563;
    }
    #result {
      background-color: #f8fafc;
      border: 1px solid #e2e8f0;
      border-radius: 8px;
      padding: 15px;
      font-size: 0.9rem;
      white-space: pre-line;
    }
    .form-label {
      font-weight: 600;
      color: #1f2937;
      margin-bottom: 5px;
    }
    .form-control, .form-select {
      border-radius: 6px;
      border: 1px solid #d1d5db;
      padding: 8px;
      font-size: 0.9rem;
      transition: border-color 0.3s, box-shadow 0.3s;
    }
    .form-control:focus, .form-select:focus {
      border-color: #1e40af;
      box-shadow: 0 0 5px rgba(30, 64, 175, 0.2);
      outline: none;
    }
    .form-control:disabled, .form-control[readonly] {
      background-color: #e9ecef;
      color: #6b7280;
      cursor: not-allowed;
    }
    .form-control::placeholder {
      color: #adb5bd;
      opacity: 1;
    }
    .form-check-input:checked {
      background-color: #1e40af;
      border-color: #1e40af;
    }
    .highlight {
      font-weight: bold;
      background-color: #60a5fa;
      padding: 2px 6px;
      border-radius: 4px;
      color: white;
    }
    .input-group {
      margin-bottom: 15px;
    }
    .input-group .form-control,
    .input-group .form-select {
      width: 100%;
      height: 40px;
      font-size: 0.9rem;
    }
    .input-group .d-flex .form-select {
      width: 120px;
    }
    .toggle-tooltip {
      cursor: pointer;
      color: #6b7280;
      margin-left: 5px;
      font-size: 1.2rem;
    }
    .toggle-tooltip:hover {
      color: #1e40af;
    }
    .form-check {
      margin-top: 10px;
    }
    .btn-custom-width {
      width: 100% !important;
      display: block;
    }
    @media (max-width: 768px) {
      .container {
        padding: 20px;
      }
      .form-control, .form-select {
        font-size: 0.85rem;
      }
      .input-group .d-flex .form-select {
        width: 100px;
      }
    }
  </style>
</head>
<body>
  <div class="container">
    <h1 class="text-center mb-3">Kalkulator PPh 21 - Meninggalkan Indonesia</h1>
    <p class="text-muted text-center mb-4">Masukkan data untuk menghitung PPh 21 untuk karyawan yang meninggalkan Indonesia selamanya.</p>

    <!-- Tombol Kembali ke Menu -->
    <div class="mb-4">
      <a href="index.html" class="btn btn-secondary">Kembali ke Menu</a>
    </div>

    <!-- Input untuk perhitungan tunggal -->
    <div class="mb-5">
      <h2 class="mb-3">Perhitungan Tunggal</h2>
      <div class="row">
        <!-- Grid 1: Masa dan PTKP -->
        <div class="col-md-4">
          <div class="input-group">
            <label class="form-label">Masa:</label>
            <div class="d-flex align-items-center">
              <select id="bulanMulai" class="form-select me-2">
                <option value="">Pilih Bulan</option>
                <option value="Januari">Januari</option>
                <option value="Februari">Februari</option>
                <option value="Maret">Maret</option>
                <option value="April">April</option>
                <option value="Mei">Mei</option>
                <option value="Juni">Juni</option>
                <option value="Juli">Juli</option>
                <option value="Agustus">Agustus</option>
                <option value="September">September</option>
                <option value="Oktober">Oktober</option>
                <option value="November">November</option>
                <option value="Desember">Desember</option>
              </select>
              <span class="me-2">s/d</span>
              <select id="bulanSelesai" class="form-select">
                <option value="">Pilih Bulan</option>
                <option value="Januari">Januari</option>
                <option value="Februari">Februari</option>
                <option value="Maret">Maret</option>
                <option value="April">April</option>
                <option value="Mei">Mei</option>
                <option value="Juni">Juni</option>
                <option value="Juli">Juli</option>
                <option value="Agustus">Agustus</option>
                <option value="September">September</option>
                <option value="Oktober">Oktober</option>
                <option value="November">November</option>
                <option value="Desember">Desember</option>
              </select>
            </div>
          </div>
          <div class="input-group">
            <label class="form-label" for="status">PTKP:</label>
            <select id="status" class="form-select">
              <option value="">Pilih PTKP</option>
              <option value="TK/0">TK/0</option>
              <option value="TK/1">TK/1</option>
              <option value="TK/2">TK/2</option>
              <option value="TK/3">TK/3</option>
              <option value="K/0">K/0</option>
              <option value="K/1">K/1</option>
              <option value="K/2">K/2</option>
              <option value="K/3">K/3</option>
            </select>
          </div>
        </div>
        <!-- Grid 2: Pendapatan Bruto -->
        <div class="col-md-4">
          <div class="input-group">
            <label class="form-label" for="gaji">Gaji Pokok <span id="gajiUnit">(IDR)</span>:</label>
            <input type="number" id="gaji" min="0" step="1" placeholder="" class="form-control" />
          </div>
          <div class="input-group">
            <label class="form-label" for="totalAllowance">Total Allowance <span id="totalAllowanceUnit">(IDR)</span><span class="toggle-tooltip" data-bs-toggle="tooltip" data-bs-placement="right" title="Kamu gak perlu masukin tunjangan PPh 21 disini, biar kami itung langsung dalam sistem :)"><i class="bi bi-info-circle"></i></span>:</label>
            <input type="number" id="totalAllowance" min="0" step="1" placeholder="" class="form-control" />
          </div>
          <div class="input-group">
            <label class="form-label" for="bpjsKesehatan">BPJS Kesehatan <span id="bpjsKesehatanUnit">(IDR)</span>:</label>
            <input type="number" id="bpjsKesehatan" min="0" step="1" placeholder="" class="form-control" />
          </div>
          <div class="input-group">
            <label class="form-label" for="jkkJkm">JKK JKM <span id="jkkJkmUnit">(IDR)</span>:</label>
            <input type="number" id="jkkJkm" min="0" step="1" placeholder="" class="form-control" />
          </div>
          <div class="input-group">
            <label class="form-label" for="overtime">Overtime <span id="overtimeUnit">(IDR)</span>:</label>
            <input type="number" id="overtime" min="0" step="1" placeholder="" class="form-control" />
          </div>
          <div class="input-group">
            <label class="form-label" for="bonusThrKomisi">Bonus, THR & Komisi <span id="bonusThrKomisiUnit">(IDR)</span>:</label>
            <input type="number" id="bonusThrKomisi" min="0" step="1" placeholder="" class="form-control" />
          </div>
          <div class="input-group">
            <label class="form-label" for="adjustment">Adjustment <span id="adjustmentUnit"></span><span class="toggle-tooltip" data-bs-toggle="tooltip" data-bs-placement="right" title="Bisa diisi Reimbursement, Kompensasi PKWT, Denda-denda, atau hal lain yang mempengaruhi pendapatan bruto"><i class="bi bi-info-circle"></i></span>:</label>
            <input type="number" id="adjustment" step="1" placeholder="bisa angka negatif, lho !" class="form-control" />
          </div>
          <div class="input-group">
            <label class="form-label" for="benefitInKind">Benefit in Kind <span id="benefitInKindUnit">(IDR)</span>:</label>
            <input type="number" id="benefitInKind" min="0" step="1" placeholder="" class="form-control" />
          </div>
        </div>
        <!-- Grid 3: Pengurangan -->
        <div class="col-md-4">
          <div class="input-group">
            <label class="form-label" for="biayaJabatan">Biaya Jabatan <span id="biayaJabatanUnit">(IDR)</span>:</label>
            <input type="number" id="biayaJabatan" class="form-control" readonly />
          </div>
          <div class="input-group">
            <label class="form-label" for="jht">JHT <span id="jhtUnit">(IDR)</span><span class="toggle-tooltip" data-bs-toggle="tooltip" data-bs-placement="right" title="Kalo JHT kamu menjadi tunjangan kantor, ga usah diisi ya !"><i class="bi bi-info-circle"></i></span>:</label>
            <input type="number" id="jht" min="0" step="1" placeholder="" class="form-control" />
          </div>
          <div class="input-group">
            <label class="form-label" for="jp">JP <span id="jpUnit">(IDR)</span><span class="toggle-tooltip" data-bs-toggle="tooltip" data-bs-placement="right" title="Kalo JP kamu menjadi tunjangan kantor, ga usah diisi ya !"><i class="bi bi-info-circle"></i></span>:</label>
            <input type="number" id="jp" min="0" step="1" placeholder="" class="form-control" />
          </div>
        </div>
      </div>
      <!-- Full-width inputs -->
      <div class="input-group">
        <label class="form-label" for="pphSebelumnya">PPh yang Telah Dipotong <span id="pphSebelumnyaUnit">(IDR)</span>:</label>
        <input type="number" id="pphSebelumnya" min="0" step="1" placeholder="" class="form-control" />
      </div>
      <div class="form-check">
        <input type="checkbox" id="grossUp" class="form-check-input" />
        <label class="form-check-label" for="grossUp">Metode Gross Up (Net)</label>
      </div>
      <div id="result" class="mt-4">Hasil akan muncul di sini.</div>
    </div>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
  <script type="text/javascript">
    var gk_isXlsx = false;
    var gk_xlsxFileLookup = {};
    var gk_fileData = {};
    function filledCell(cell) {
      return cell !== '' && cell != null;
    }
    function loadFileData(filename) {
      if (gk_isXlsx && gk_xlsxFileLookup[filename]) {
        try {
          var workbook = XLSX.read(gk_fileData[filename], { type: 'base64' });
          var firstSheetName = workbook.SheetNames[0];
          var worksheet = workbook.Sheets[firstSheetName];
          var jsonData = XLSX.utils.sheet_to_json(worksheet, { header: 1, blankrows: false, defval: '' });
          var filteredData = jsonData.filter(row => row.some(filledCell));
          var headerRowIndex = filteredData.findIndex((row, index) =>
            row.filter(filledCell).length >= filteredData[index + 1]?.filter(filledCell).length
          );
          if (headerRowIndex === -1 || headerRowIndex > 25) {
            headerRowIndex = 0;
          }
          var csv = XLSX.utils.aoa_to_sheet(filteredData.slice(headerRowIndex));
          csv = XLSX.utils.sheet_to_csv(csv, { header: 1 });
          return csv;
        } catch (e) {
          console.error(e);
          return "";
        }
      }
      return gk_fileData[filename] || "";
    }
  </script>
  <script>
    const tarifPasal17 = [
      { batas: 60000000, tarif: 0.05 },
      { batas: 250000000, tarif: 0.15 },
      { batas: 500000000, tarif: 0.25 },
      { batas: Infinity, tarif: 0.30 }
    ];

    const ptkpValues = {
      'TK/0': 54000000,
      'TK/1': 58500000,
      'TK/2': 63000000,
      'TK/3': 67500000,
      'K/0': 58500000,
      'K/1': 63000000,
      'K/2': 67500000,
      'K/3': 72000000
    };

    const bulanList = [
      'Januari', 'Februari', 'Maret', 'April', 'Mei', 'Juni',
      'Juli', 'Agustus', 'September', 'Oktober', 'November', 'Desember'
    ];

    function roundToThousands(num) {
      return Math.floor(num / 1000) * 1000;
    }

    function updateUnitLabels() {
      const bulanMulai = document.getElementById('bulanMulai').value;
      const bulanSelesai = document.getElementById('bulanSelesai').value;
      const bulanBekerja = hitungBulanBekerja(bulanMulai, bulanSelesai);

      const units = [
        { id: 'gajiUnit', default: 'IDR' },
        { id: 'totalAllowanceUnit', default: 'IDR' },
        { id: 'bpjsKesehatanUnit', default: 'IDR' },
        { id: 'jkkJkmUnit', default: 'IDR' },
        { id: 'jhtUnit', default: 'IDR' },
        { id: 'jpUnit', default: 'IDR' },
        { id: 'overtimeUnit', default: 'IDR' },
        { id: 'bonusThrKomisiUnit', default: 'IDR' },
        { id: 'adjustmentUnit', default: 'IDR' },
        { id: 'benefitInKindUnit', default: 'IDR' },
        { id: 'biayaJabatanUnit', default: 'IDR' }
      ];

      if (bulanMulai && bulanSelesai) {
        units.forEach(u => document.getElementById(u.id).textContent = `(${bulanMulai.slice(0, 3)}-${bulanSelesai.slice(0, 3)})`);
      } else {
        units.forEach(u => document.getElementById(u.id).textContent = `(${u.default})`);
      }

      const pphSebelumnyaUnit = document.getElementById('pphSebelumnyaUnit');
      if (bulanMulai && bulanSelesai) {
        const startIdx = bulanList.indexOf(bulanMulai);
        const endIdx = bulanList.indexOf(bulanSelesai);
        if (startIdx !== -1 && endIdx !== -1 && endIdx > 0) {
          const prevBulanSelesai = bulanList[endIdx - 1];
          pphSebelumnyaUnit.textContent = `(${bulanMulai.slice(0, 3)}-${prevBulanSelesai.slice(0, 3)})`;
        } else {
          pphSebelumnyaUnit.textContent = '(IDR)';
        }
      } else {
        pphSebelumnyaUnit.textContent = '(IDR)';
      }
    }

    function hitungBulanBekerja(bulanMulai, bulanSelesai) {
      if (!bulanMulai || !bulanSelesai) return 11; // Default 11 bulan
      const start = bulanList.indexOf(bulanMulai);
      const end = bulanList.indexOf(bulanSelesai);
      if (start === -1 || end === -1) return 11;
      const totalBulan = end - start + 1;
      // Batasi maksimal 11 bulan
      if (totalBulan > 11) {
        return 11;
      }
      // Kalo bulan selesai Desember, minimal mulai dari Februari (index 1)
      if (bulanSelesai === 'Desember' && start < 1) {
        return 11; // Set ke 11 bulan dari Februari-Desember
      }
      return Math.max(1, totalBulan);
    }

    function hitungPPhPasal17(pkp) {
      let pph = 0;
      let sisaPKP = pkp;
      let prevBatas = 0;
      const breakdown = [];

      for (let i = 0; i < tarifPasal17.length; i++) {
        const { batas, tarif } = tarifPasal17[i];
        const taxable = Math.min(sisaPKP, batas - prevBatas);
        if (taxable > 0) {
          const tax = taxable * tarif;
          pph += tax;
          breakdown.push({
            batas: taxable,
            tarif: (tarif * 100).toFixed(0) + '%',
            pajak: tax
          });
          sisaPKP -= taxable;
          prevBatas = batas;
        }
        if (sisaPKP <= 0) break;
      }

      return { total: pph, breakdown };
    }

    function hitungPajakSingle() {
      const bulanMulai = document.getElementById('bulanMulai').value;
      const bulanSelesai = document.getElementById('bulanSelesai').value;
      const gaji = parseFloat(document.getElementById('gaji').value) || 0;
      const totalAllowance = parseFloat(document.getElementById('totalAllowance').value) || 0;
      const bpjsKesehatan = parseFloat(document.getElementById('bpjsKesehatan').value) || 0;
      const jkkJkm = parseFloat(document.getElementById('jkkJkm').value) || 0;
      const jht = parseFloat(document.getElementById('jht').value) || 0;
      const jp = parseFloat(document.getElementById('jp').value) || 0;
      const overtime = parseFloat(document.getElementById('overtime').value) || 0;
      const bonusThrKomisi = parseFloat(document.getElementById('bonusThrKomisi').value) || 0;
      const adjustment = parseFloat(document.getElementById('adjustment').value) || 0;
      const benefitInKind = parseFloat(document.getElementById('benefitInKind').value) || 0;
      const status = document.getElementById('status').value;
      const pphSebelumnya = parseFloat(document.getElementById('pphSebelumnya').value) || 0;
      const isGrossUp = document.getElementById('grossUp').checked;
      const resultEl = document.getElementById('result');

      if (!bulanMulai) {
        resultEl.textContent = 'Silakan pilih Bulan Mulai.';
        return;
      }
      if (!bulanSelesai) {
        resultEl.textContent = 'Silakan pilih Bulan Selesai.';
        return;
      }
      if (!status) {
        resultEl.textContent = 'Silakan pilih PTKP.';
        return;
      }
      if (gaji < 0 || totalAllowance < 0 || bpjsKesehatan < 0 || jkkJkm < 0 || jht < 0 || jp < 0 || overtime < 0 || bonusThrKomisi < 0 || benefitInKind < 0 || pphSebelumnya < 0) {
        resultEl.textContent = 'Masukkan nilai positif untuk semua field kecuali Adjustment.';
        return;
      }

      const bulanBekerja = hitungBulanBekerja(bulanMulai, bulanSelesai);
      const brutoTanpaPPh = gaji + totalAllowance + bpjsKesehatan + jkkJkm + overtime + bonusThrKomisi + adjustment + benefitInKind;
      const biayaJabatanPerBulan = Math.min(0.05 * (brutoTanpaPPh / bulanBekerja), 6000000 / 12);
      const biayaJabatan = biayaJabatanPerBulan * bulanBekerja;
      document.getElementById('biayaJabatan').value = Math.round(biayaJabatan);
      const totalPengurang = biayaJabatan + jht + jp;
      const ptkp = ptkpValues[status];

      let tunjanganPPh = 0;
      if (isGrossUp) {
        let low = 0;
        let high = brutoTanpaPPh * 5;
        let iter = 0;
        const tol = 0.001;

        while (iter++ < 100) {
          const mid = (low + high) / 2;
          const bruto = Math.round(brutoTanpaPPh + mid); // Hanya dibulatkan
          const netto = bruto - totalPengurang;
          const nettoDisetahunkan = (netto * 12) / bulanBekerja;
          const pkp = roundToThousands(Math.max(0, Math.round(nettoDisetahunkan - ptkp))); // Hanya PKP dibulatkan ke ribuan
          const pphResult = hitungPPhPasal17(pkp);
          const pphTerutangDisetahunkan = (pphResult.total / 12) * bulanBekerja;

          if (Math.abs(pphTerutangDisetahunkan - mid) <= tol) {
            tunjanganPPh = pphTerutangDisetahunkan; // Tunjangan PPh sama dengan PPh Terutang Disetahunkan
            break;
          }
          if (pphTerutangDisetahunkan > mid) low = mid;
          else high = mid;
        }
      }

      const bruto = Math.round(brutoTanpaPPh + tunjanganPPh); // Hanya dibulatkan
      const netto = bruto - totalPengurang;
      const nettoDisetahunkan = (netto * 12) / bulanBekerja;
      const pkp = roundToThousands(Math.max(0, Math.round(nettoDisetahunkan - ptkp))); // Hanya PKP dibulatkan ke ribuan
      const pphResult = hitungPPhPasal17(pkp);
      const pphTerutangDisetahunkan = isGrossUp ? tunjanganPPh : (pphResult.total / 12) * bulanBekerja;

      const pphTerakhir = pphTerutangDisetahunkan - pphSebelumnya;

      let output = `Perhitungan per Karyawan:\n`;
      output += `Bruto\t\t\t\t\t\t: Rp ${bruto.toLocaleString('id-ID')}\n`;
      if (isGrossUp) {
        output += `Tunjangan PPh\t\t\t\t: Rp ${Math.round(tunjanganPPh).toLocaleString('id-ID')}\n`; // Hanya dibulatkan
      }
      output += `Pengurang\t\t\t\t\t: Rp ${Math.round(totalPengurang).toLocaleString('id-ID')}\n`;
      output += `Penghasilan Neto\t\t\t: Rp ${Math.round(netto).toLocaleString('id-ID')}\n`;
      output += `Penghasilan Neto Disetahunkan\t: Rp ${Math.round(nettoDisetahunkan).toLocaleString('id-ID')}\n`;
      output += `PTKP\t\t\t\t\t\t: Rp ${ptkp.toLocaleString('id-ID')}\n`;
      output += `PKP\t\t\t\t\t\t\t: Rp ${pkp.toLocaleString('id-ID')}\n`;
      output += `PPh Pasal 17\t\t\t\t: `;
      let pphString = '';
      pphResult.breakdown.forEach((b, index) => {
        pphString += `(${b.batas.toLocaleString('id-ID')} x ${b.tarif})`;
        if (index < pphResult.breakdown.length - 1) pphString += ' + ';
      });
      output += `${pphString} = Rp ${pphResult.total.toLocaleString('id-ID')}\n`;
      output += `PPh Terutang Disetahunkan\t: Rp ${Math.round(pphTerutangDisetahunkan).toLocaleString('id-ID')}\n`;
      const prevBulanSelesai = bulanList[bulanList.indexOf(bulanSelesai) - 1] || bulanSelesai;
      output += `PPh yang Telah Dipotong (${bulanMulai.slice(0, 3)} - ${prevBulanSelesai.slice(0, 3)}) \t: Rp ${pphSebelumnya.toLocaleString('id-ID')}\n`;
      output += `PPh Terakhir\t\t\t\t: <span class="highlight">Rp ${Math.round(pphTerakhir).toLocaleString('id-ID')}</span>\n`;
      resultEl.innerHTML = output;
    }

    document.addEventListener('DOMContentLoaded', () => {
      const tooltipTriggerList = document.querySelectorAll('[data-bs-toggle="tooltip"]');
      [...tooltipTriggerList].map(tooltipTriggerEl => new bootstrap.Tooltip(tooltipTriggerEl));

      // Event listener untuk sinkronisasi dropdown
      const bulanMulai = document.getElementById('bulanMulai');
      const bulanSelesai = document.getElementById('bulanSelesai');

      bulanSelesai.addEventListener('change', () => {
        const endIdx = bulanList.indexOf(bulanSelesai.value);
        if (endIdx === bulanList.length - 1 && bulanMulai.value === 'Januari') { // Kalo Desember dipilih
          bulanMulai.value = 'Februari'; // Set minimal Februari
        }
        updateUnitLabels();
        hitungPajakSingle();
      });

      bulanMulai.addEventListener('change', () => {
        const startIdx = bulanList.indexOf(bulanMulai.value);
        const endIdx = bulanList.indexOf(bulanSelesai.value);
        if (endIdx === bulanList.length - 1 && startIdx < 1) { // Kalo Desember dan mulai < Februari
          bulanMulai.value = 'Februari'; // Set minimal Februari
        }
        updateUnitLabels();
        hitungPajakSingle();
      });
    });

    document.getElementById('bulanMulai').addEventListener('change', () => {
      updateUnitLabels();
      hitungPajakSingle();
    });
    document.getElementById('bulanSelesai').addEventListener('change', () => {
      updateUnitLabels();
      hitungPajakSingle();
    });
    document.getElementById('gaji').addEventListener('input', hitungPajakSingle);
    document.getElementById('totalAllowance').addEventListener('input', hitungPajakSingle);
    document.getElementById('bpjsKesehatan').addEventListener('input', hitungPajakSingle);
    document.getElementById('jkkJkm').addEventListener('input', hitungPajakSingle);
    document.getElementById('jht').addEventListener('input', hitungPajakSingle);
    document.getElementById('jp').addEventListener('input', hitungPajakSingle);
    document.getElementById('overtime').addEventListener('input', hitungPajakSingle);
    document.getElementById('bonusThrKomisi').addEventListener('input', hitungPajakSingle);
    document.getElementById('adjustment').addEventListener('input', hitungPajakSingle);
    document.getElementById('benefitInKind').addEventListener('input', hitungPajakSingle);
    document.getElementById('status').addEventListener('change', hitungPajakSingle);
    document.getElementById('pphSebelumnya').addEventListener('input', hitungPajakSingle);
    document.getElementById('grossUp').addEventListener('change', hitungPajakSingle);
  </script>
</body>
</html>